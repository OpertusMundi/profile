{"externalDocs":{"description":"GitHub","url":"https://github.com/OpertusMundi/profile"},"info":{"contact":{"email":"kpsarakis94@gmail.com"},"description":"A service that profiles geospatial data using the BigDataVoyant library https://github.com/OpertusMundi/BigDataVoyant","title":"Profile API","version":"0.1.0"},"openapi":"3.0.2","paths":{"/profile/file/netcdf":{"post":{"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform process should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"}},"required":["resource"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Profiling completed and returned."},"202":{"content":{"application/json":{"schema":{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Profile a NetCDF file that is provided with the request","tags":["Profile"]}},"/profile/file/raster":{"post":{"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform process should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"}},"required":["resource"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Profiling completed and returned."},"202":{"content":{"application/json":{"schema":{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Profile a raster file that is provided with the request","tags":["Profile"]}},"/profile/file/vector":{"post":{"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform process should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"}},"required":["resource"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Profiling completed and returned."},"202":{"content":{"application/json":{"schema":{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Profile a vector file that is provided with the request","tags":["Profile"]}},"/profile/path/netcdf":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"properties":{"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform process should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"}},"required":["resource"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Profiling completed and returned."},"202":{"content":{"application/json":{"schema":{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Profile a NetCDF file that is provided with the request","tags":["Profile"]}},"/profile/path/raster":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"properties":{"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform process should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"}},"required":["resource"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Profiling completed and returned."},"202":{"content":{"application/json":{"schema":{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Profile a raster file that is provided with the request","tags":["Profile"]}},"/profile/path/vector":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"properties":{"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform process should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"}},"required":["resource"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Profiling completed and returned."},"202":{"content":{"application/json":{"schema":{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Profile a vector file that is provided with the request","tags":["Profile"]}},"/resource/{ticket}":{"get":{"description":"Returns the resource resulted from a transform request corresponding to a specific ticket.","parameters":[{"description":"The ticket of the request","in":"path","name":"ticket","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/x-tar":{"schema":{"format":"binary","type":"string"}}},"description":"The transformed compressed spatial file."},"404":{"description":"Ticket not found or transform has not been completed."},"507":{"description":"Resource does not exist."}},"summary":"Get the resource associated to a transform request.","tags":["Resource"]}},"/status/{ticket}":{"get":{"description":"Returns the status of a request corresponding to a specific ticket.","operationId":"getStatus","parameters":[{"description":"The ticket of the request","in":"path","name":"ticket","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"comment":{"description":"If transformation has failed, a short comment describing the reason.","type":"string"},"completed":{"description":"Whether transformation process has been completed or not.","type":"boolean"},"execution_time(s)":{"description":"The execution time in seconds.","type":"integer"},"requested":{"description":"The timestamp of the request.","format":"datetime","type":"string"},"success":{"description":"Whether transformation process completed succesfully.","type":"boolean"}},"type":"object"}}},"description":"Ticket found and status returned."},"404":{"description":"Ticket not found."}},"summary":"Get the status of a transform request.","tags":["Status"]}}}}
